{"ast":null,"code":"import _slicedToArray from\"C:/Users/green/OneDrive/Desktop/online-selling-and-shopping/src/main/webapp/WEB-INF/view/shopparound-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{useCookies}from\"react-cookie\";import FetchResource from\"./util/FetchResource\";import Table from\"./component/CreateTable\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var resource=function resource(cookies){return{resource:\"/discounts\",options:{method:\"GET\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \"+cookies.user.jwt}}};};var TableHeaders=[\"ID#\",\"Name\",\"Description\",\"Discount%\",\"Products\",\"Created-At\",\"Modified_At\"];export default function Products(){var _useCookies=useCookies(),_useCookies2=_slicedToArray(_useCookies,1),cookies=_useCookies2[0];var _useState=useState(\"Loading....\"),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){FetchResource(resource(cookies)).then(function(data){setData(data);});},[cookies]);if(typeof data===\"string\"){return/*#__PURE__*/_jsx(Table,{tableData:{\"headerContents\":TableHeaders,\"bodyContents\":data}});}var discounts=data.discounts.content;console.log(discounts);for(var i=0;i<discounts.length;i++){delete discounts[i].discount;delete discounts[i].links;}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"products-table-container\",children:/*#__PURE__*/_jsx(Table,{tableData:{\"headerContents\":TableHeaders,\"bodyContents\":data.discounts.content}})})});}","map":{"version":3,"names":["useEffect","useState","useCookies","FetchResource","Table","resource","cookies","options","method","headers","user","jwt","TableHeaders","Products","data","setData","then","discounts","content","console","log","i","length","discount","links"],"sources":["C:/Users/green/OneDrive/Desktop/online-selling-and-shopping/src/main/webapp/WEB-INF/view/shopparound-app/src/Discounts.js"],"sourcesContent":["import {useEffect, useState} from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport FetchResource from \"./util/FetchResource\";\r\nimport Table from \"./component/CreateTable\";\r\n\r\n\r\nconst resource = ((cookies)=>{\r\n  return({\r\n  resource: \"/discounts\",\r\n  options: {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"Authorization\": \"Bearer \" + cookies.user.jwt,\r\n    },\r\n  },\r\n  });\r\n});\r\n\r\n\r\nconst TableHeaders = [\r\n  \"ID#\",\r\n  \"Name\",\r\n  \"Description\",\r\n  \"Discount%\",\r\n  \"Products\",\r\n  \"Created-At\",\r\n  \"Modified_At\"\r\n];\r\n\r\n\r\nexport default function Products() {\r\n  const [cookies] = useCookies();\r\n  const [data,setData] = useState(\"Loading....\");\r\n  \r\n  useEffect(()=>{\r\n    FetchResource(resource(cookies)).then((data)=>{\r\n     \r\n      setData(data);\r\n\r\n    });\r\n  },[cookies]);\r\n\r\n  \r\n      \r\n  if((typeof data) === \"string\"){\r\n    return (<Table \r\n      tableData={{\r\n        \"headerContents\": TableHeaders,\r\n        \"bodyContents\": data\r\n        }}\r\n    />);\r\n  }\r\n\r\n  let discounts = data.discounts.content;\r\n  console.log(discounts);\r\n  for(let i = 0; i < discounts.length; i ++){\r\n\r\n    delete discounts[i].discount;\r\n    delete discounts[i].links;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"products-table-container\">\r\n        {<Table \r\n          tableData={{\r\n            \"headerContents\": TableHeaders,\r\n            \"bodyContents\": data.discounts.content\r\n            }}\r\n        />}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"8LAAA,OAAQA,SAAS,CAAEC,QAAQ,KAAO,OAAO,CACzC,OAASC,UAAU,KAAQ,cAAc,CACzC,MAAOC,cAAa,KAAM,sBAAsB,CAChD,MAAOC,MAAK,KAAM,yBAAyB,CAAC,gGAG5C,GAAMC,SAAQ,CAAI,QAAZA,SAAQ,CAAKC,OAAO,CAAG,CAC3B,MAAO,CACPD,QAAQ,CAAE,YAAY,CACtBE,OAAO,CAAE,CACPC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,eAAe,CAAE,SAAS,CAAGH,OAAO,CAACI,IAAI,CAACC,GAC5C,CACF,CACA,CAAC,CACH,CAAE,CAGF,GAAMC,aAAY,CAAG,CACnB,KAAK,CACL,MAAM,CACN,aAAa,CACb,WAAW,CACX,UAAU,CACV,YAAY,CACZ,aAAa,CACd,CAGD,cAAe,SAASC,SAAQ,EAAG,CACjC,gBAAkBX,UAAU,EAAE,4CAAvBI,OAAO,iBACd,cAAuBL,QAAQ,CAAC,aAAa,CAAC,wCAAvCa,IAAI,eAACC,OAAO,eAEnBf,SAAS,CAAC,UAAI,CACZG,aAAa,CAACE,QAAQ,CAACC,OAAO,CAAC,CAAC,CAACU,IAAI,CAAC,SAACF,IAAI,CAAG,CAE5CC,OAAO,CAACD,IAAI,CAAC,CAEf,CAAC,CAAC,CACJ,CAAC,CAAC,CAACR,OAAO,CAAC,CAAC,CAIZ,GAAI,MAAOQ,KAAI,GAAM,QAAQ,CAAC,CAC5B,mBAAQ,KAAC,KAAK,EACZ,SAAS,CAAE,CACT,gBAAgB,CAAEF,YAAY,CAC9B,cAAc,CAAEE,IAChB,CAAE,EACJ,CACJ,CAEA,GAAIG,UAAS,CAAGH,IAAI,CAACG,SAAS,CAACC,OAAO,CACtCC,OAAO,CAACC,GAAG,CAACH,SAAS,CAAC,CACtB,IAAI,GAAII,EAAC,CAAG,CAAC,CAAEA,CAAC,CAAGJ,SAAS,CAACK,MAAM,CAAED,CAAC,EAAG,CAAC,CAExC,MAAOJ,UAAS,CAACI,CAAC,CAAC,CAACE,QAAQ,CAC5B,MAAON,UAAS,CAACI,CAAC,CAAC,CAACG,KAAK,CAC3B,CAEA,mBACE,sCACE,YAAK,SAAS,CAAC,0BAA0B,uBACtC,KAAC,KAAK,EACL,SAAS,CAAE,CACT,gBAAgB,CAAEZ,YAAY,CAC9B,cAAc,CAAEE,IAAI,CAACG,SAAS,CAACC,OAC/B,CAAE,EACJ,EACE,EACL,CAEP"},"metadata":{},"sourceType":"module","externalDependencies":[]}