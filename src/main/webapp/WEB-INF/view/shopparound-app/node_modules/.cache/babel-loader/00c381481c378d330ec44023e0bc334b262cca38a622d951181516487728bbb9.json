{"ast":null,"code":"import _slicedToArray from\"C:/Users/green/OneDrive/Desktop/online-selling-and-shopping/src/main/webapp/WEB-INF/view/shopparound-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{useCookies}from\"react-cookie\";import FetchResource from\"./util/FetchResource\";import CreateTable from\"./component/CreateTable\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var resource=function resource(cookies){return{resource:\"/users\",options:{method:\"GET\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \"+cookies.user.jwt}}};};var TableHeaders=[\"ID#\",\"Username\",\"First_Name\",\"Last_Name\",// \"Password\",\n\"Address\",\"DOB\",\"Email\",\"Phone#\",\"Created-At\",\"Modified_At\"];export default function Users(){var _useCookies=useCookies(),_useCookies2=_slicedToArray(_useCookies,1),cookies=_useCookies2[0];var _useState=useState(\"Loading....\"),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];// const navigate = useNavigate();\n//   if(Object.entries(cookies).length !== 0){\n//       if(Object.entries(cookies.userProfile).length === 0){\n//           navigate(\"/\");\n//           let test = false;\n//       }\n//   } \n// let data = FetchResource(resource(cookies)); //fetch users account info from backend server\nuseEffect(function(){FetchResource(resource(cookies)).then(function(data){setData(data);});},[cookies]);console.log(data);if(typeof data===\"string\"){return/*#__PURE__*/_jsx(CreateTable,{tableData:{\"headerContents\":TableHeaders,\"bodyContents\":data}});}var users=data.users.content;for(var i=0;i<users.length;i++){delete users[i].password;delete users[i].roles;delete users[i].links;}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"users-table-container\",children:/*#__PURE__*/_jsx(CreateTable,{tableData:{\"headerContents\":TableHeaders,\"bodyContents\":users}})})});}","map":{"version":3,"names":["useEffect","useState","useCookies","FetchResource","CreateTable","resource","cookies","options","method","headers","user","jwt","TableHeaders","Users","data","setData","then","console","log","users","content","i","length","password","roles","links"],"sources":["C:/Users/green/OneDrive/Desktop/online-selling-and-shopping/src/main/webapp/WEB-INF/view/shopparound-app/src/Users.js"],"sourcesContent":["import {useEffect, useState} from \"react\";\r\nimport { useCookies} from \"react-cookie\";\r\nimport FetchResource from \"./util/FetchResource\";\r\nimport CreateTable from \"./component/CreateTable\";\r\n\r\nconst resource = ((cookies)=>{\r\n  return({\r\n  resource: \"/users\",\r\n  options: {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"Authorization\": \"Bearer \" + cookies.user.jwt,\r\n    },\r\n  },\r\n  });\r\n});\r\n\r\n\r\nconst TableHeaders = [\r\n  \"ID#\",\r\n  \"Username\",\r\n  \"First_Name\",\r\n  \"Last_Name\",\r\n  // \"Password\",\r\n  \"Address\",\r\n  \"DOB\",\r\n  \"Email\",\r\n  \"Phone#\",\r\n  \"Created-At\",\r\n  \"Modified_At\"\r\n];\r\n\r\n\r\nexport default function Users() {\r\n  const [cookies] = useCookies();\r\n  const [data,setData] = useState(\"Loading....\");\r\n  \r\n\r\n  // const navigate = useNavigate();\r\n  \r\n  //   if(Object.entries(cookies).length !== 0){\r\n  //       if(Object.entries(cookies.userProfile).length === 0){\r\n  //           navigate(\"/\");\r\n        \r\n  //           let test = false;\r\n  //       }\r\n  //   } \r\n  \r\n \r\n\r\n  // let data = FetchResource(resource(cookies)); //fetch users account info from backend server\r\n\r\n  useEffect(()=>{\r\n    FetchResource(resource(cookies)).then((data)=>{\r\n     \r\n      setData(data);\r\n\r\n    });\r\n  },[cookies]);\r\n\r\n  console.log(data);\r\n\r\n  if((typeof data) === \"string\"){\r\n    return (<CreateTable \r\n      tableData={{\r\n        \"headerContents\": TableHeaders,\r\n        \"bodyContents\": data\r\n        }}\r\n    />);\r\n  }\r\n\r\n  let users = data.users.content;\r\n  \r\n  for(let i = 0; i < users.length; i++){\r\n\r\n    delete users[i].password;\r\n    delete users[i].roles;\r\n    delete users[i].links;\r\n    \r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"users-table-container\">\r\n        {<CreateTable \r\n          tableData={{\r\n            \"headerContents\": TableHeaders,\r\n            \"bodyContents\": users\r\n            }}\r\n        />}\r\n      </div>\r\n      {/* <div id=\"addProduct-tb-floating-button-container\">\r\n        <button type=\"button\" className=\"btn btn-primary\" onClick={HandleButtonClick}>  \r\n          <i className=\"fas fa-plus-circle\"></i> add Product\r\n        </button>\r\n      </div> */}\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"8LAAA,OAAQA,SAAS,CAAEC,QAAQ,KAAO,OAAO,CACzC,OAASC,UAAU,KAAO,cAAc,CACxC,MAAOC,cAAa,KAAM,sBAAsB,CAChD,MAAOC,YAAW,KAAM,yBAAyB,CAAC,gGAElD,GAAMC,SAAQ,CAAI,QAAZA,SAAQ,CAAKC,OAAO,CAAG,CAC3B,MAAO,CACPD,QAAQ,CAAE,QAAQ,CAClBE,OAAO,CAAE,CACPC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,eAAe,CAAE,SAAS,CAAGH,OAAO,CAACI,IAAI,CAACC,GAC5C,CACF,CACA,CAAC,CACH,CAAE,CAGF,GAAMC,aAAY,CAAG,CACnB,KAAK,CACL,UAAU,CACV,YAAY,CACZ,WAAW,CACX;AACA,SAAS,CACT,KAAK,CACL,OAAO,CACP,QAAQ,CACR,YAAY,CACZ,aAAa,CACd,CAGD,cAAe,SAASC,MAAK,EAAG,CAC9B,gBAAkBX,UAAU,EAAE,4CAAvBI,OAAO,iBACd,cAAuBL,QAAQ,CAAC,aAAa,CAAC,wCAAvCa,IAAI,eAACC,OAAO,eAGnB;AAEA;AACA;AACA;AAEA;AACA;AACA;AAIA;AAEAf,SAAS,CAAC,UAAI,CACZG,aAAa,CAACE,QAAQ,CAACC,OAAO,CAAC,CAAC,CAACU,IAAI,CAAC,SAACF,IAAI,CAAG,CAE5CC,OAAO,CAACD,IAAI,CAAC,CAEf,CAAC,CAAC,CACJ,CAAC,CAAC,CAACR,OAAO,CAAC,CAAC,CAEZW,OAAO,CAACC,GAAG,CAACJ,IAAI,CAAC,CAEjB,GAAI,MAAOA,KAAI,GAAM,QAAQ,CAAC,CAC5B,mBAAQ,KAAC,WAAW,EAClB,SAAS,CAAE,CACT,gBAAgB,CAAEF,YAAY,CAC9B,cAAc,CAAEE,IAChB,CAAE,EACJ,CACJ,CAEA,GAAIK,MAAK,CAAGL,IAAI,CAACK,KAAK,CAACC,OAAO,CAE9B,IAAI,GAAIC,EAAC,CAAG,CAAC,CAAEA,CAAC,CAAGF,KAAK,CAACG,MAAM,CAAED,CAAC,EAAE,CAAC,CAEnC,MAAOF,MAAK,CAACE,CAAC,CAAC,CAACE,QAAQ,CACxB,MAAOJ,MAAK,CAACE,CAAC,CAAC,CAACG,KAAK,CACrB,MAAOL,MAAK,CAACE,CAAC,CAAC,CAACI,KAAK,CAEvB,CAEA,mBACE,sCACE,YAAK,SAAS,CAAC,uBAAuB,uBACnC,KAAC,WAAW,EACX,SAAS,CAAE,CACT,gBAAgB,CAAEb,YAAY,CAC9B,cAAc,CAAEO,KAChB,CAAE,EACJ,EACE,EAML,CAEP"},"metadata":{},"sourceType":"module","externalDependencies":[]}