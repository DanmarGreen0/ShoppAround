{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/green/OneDrive/Desktop/online-selling-and-shopping/src/main/webapp/WEB-INF/view/shopparound-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/green/OneDrive/Desktop/online-selling-and-shopping/src/main/webapp/WEB-INF/view/shopparound-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useEffect,useState,memo}from\"react\";//get resources from server\nfunction FetchResource(_x){return _FetchResource.apply(this,arguments);}function _FetchResource(){_FetchResource=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(props){var url,options;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:url='http://localhost:8080'+props.resource;options={method:props.options.method,headers:props.options.headers,body:props.options.body};//remove body field from options(object)\nif(options.body===undefined){delete options.body;}// useEffect(()=>{\nreturn _context.abrupt(\"return\",fetch(url,options).then(function(response){try{if(response.status===200){return response.json();}else if(response.status===401){//handles error thrown from server\nreturn response.status+\" Unauthorized access\";}else if(response.status===404){return response.status+\" Page not found\";}else{return response.status+\" \"+response.statusText;}}catch(_unused){return\"Error 503: Sorry! Server is Unavailable\";}}));case 4:case\"end\":return _context.stop();}},_callee);}));return _FetchResource.apply(this,arguments);}export default FetchResource;","map":{"version":3,"names":["useEffect","useState","memo","FetchResource","props","url","resource","options","method","headers","body","undefined","fetch","then","response","status","json","statusText"],"sources":["C:/Users/green/OneDrive/Desktop/online-selling-and-shopping/src/main/webapp/WEB-INF/view/shopparound-app/src/util/FetchResource.js"],"sourcesContent":["import { useEffect, useState, memo} from \"react\";\r\n\r\n//get resources from server\r\n async function FetchResource(props){\r\n  const url = 'http://localhost:8080' + props.resource;\r\n  const options = {\r\n    method: props.options.method,\r\n    headers: props.options.headers,\r\n    body: props.options.body\r\n  };\r\n\r\n  //remove body field from options(object)\r\n  if(options.body === undefined){\r\n    delete options.body;\r\n  }\r\n\r\n  // useEffect(()=>{\r\n\r\n   \r\n    return fetch(url, options).then((response)=>{\r\n      try {\r\n        if (response.status === 200) {\r\n          return response.json();\r\n        } else if (response.status === 401) { //handles error thrown from server\r\n          return(response.status + \" Unauthorized access\");\r\n        } else if (response.status === 404) {\r\n          return(response.status + \" Page not found\");\r\n        } else {\r\n          return(response.status + \" \" + response.statusText);\r\n        }\r\n      } catch {\r\n       \r\n          return (\"Error 503: Sorry! Server is Unavailable\")\r\n        \r\n      }\r\n\r\n    });\r\n   \r\n\r\n  // },[]);\r\n\r\n  // if(fetchedData === null) \r\n  //   return(\"Still loading\"); //return if data is still loading\r\n\r\n\r\n  // return fetchedData; //return if data is loaded\r\n}\r\n\r\nexport default FetchResource;"],"mappings":"4YAAA,OAASA,SAAS,CAAEC,QAAQ,CAAEC,IAAI,KAAO,OAAO,CAEhD;AAAA,QACgBC,cAAa,qJAA5B,iBAA6BC,KAAK,mIAC3BC,GAAG,CAAG,uBAAuB,CAAGD,KAAK,CAACE,QAAQ,CAC9CC,OAAO,CAAG,CACdC,MAAM,CAAEJ,KAAK,CAACG,OAAO,CAACC,MAAM,CAC5BC,OAAO,CAAEL,KAAK,CAACG,OAAO,CAACE,OAAO,CAC9BC,IAAI,CAAEN,KAAK,CAACG,OAAO,CAACG,IACtB,CAAC,CAED;AACA,GAAGH,OAAO,CAACG,IAAI,GAAKC,SAAS,CAAC,CAC5B,MAAOJ,QAAO,CAACG,IAAI,CACrB,CAEA;AAAA,gCAGSE,KAAK,CAACP,GAAG,CAAEE,OAAO,CAAC,CAACM,IAAI,CAAC,SAACC,QAAQ,CAAG,CAC1C,GAAI,CACF,GAAIA,QAAQ,CAACC,MAAM,GAAK,GAAG,CAAE,CAC3B,MAAOD,SAAQ,CAACE,IAAI,EAAE,CACxB,CAAC,IAAM,IAAIF,QAAQ,CAACC,MAAM,GAAK,GAAG,CAAE,CAAE;AACpC,MAAOD,SAAQ,CAACC,MAAM,CAAG,sBAAsB,CACjD,CAAC,IAAM,IAAID,QAAQ,CAACC,MAAM,GAAK,GAAG,CAAE,CAClC,MAAOD,SAAQ,CAACC,MAAM,CAAG,iBAAiB,CAC5C,CAAC,IAAM,CACL,MAAOD,SAAQ,CAACC,MAAM,CAAG,GAAG,CAAGD,QAAQ,CAACG,UAAU,CACpD,CACF,CAAE,cAAM,CAEJ,MAAQ,yCAAyC,CAErD,CAEF,CAAC,CAAC,uDAUL,gDAED,cAAed,cAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}