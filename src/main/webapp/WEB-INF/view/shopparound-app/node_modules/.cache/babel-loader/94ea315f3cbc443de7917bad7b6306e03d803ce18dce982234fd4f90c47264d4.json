{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\green\\\\OneDrive\\\\Desktop\\\\online-selling-and-shopping\\\\src\\\\main\\\\webapp\\\\WEB-INF\\\\view\\\\shopparound-app\\\\src\\\\Discounts.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, createContext, useMemo, memo } from \"react\";\nimport { useCookies } from \"react-cookie\";\nimport FetchResource from \"./util/FetchResource\";\nimport Table from \"./component/CreateTable\";\nimport Model from \"./Model\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const DiscountsBoxModelContext = /*#__PURE__*/createContext();\nconst Resource = cookies => {\n  return {\n    resource: \"/discounts\",\n    options: {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"Bearer \" + cookies.user.jwt\n      }\n    }\n  };\n};\n_c = Resource;\nconst TableHeaders = [\"ID#\", \"Name\", \"Description\", \"Discount%\", \"Products\", \"Created-At\", \"Modified_At\"];\nexport default function Discount() {\n  _s();\n  const [cookies] = useCookies();\n  const [data, setData] = useState(\"Loading....\");\n  const [boxModel, setBoxModel] = useState({\n    \"display\": false,\n    \"submitForm\": false\n  });\n  const boxModelMemo = useMemo(() => ({\n    boxModel,\n    setBoxModel\n  }), [boxModel]);\n  useEffect(() => {\n    FetchResource(Resource(cookies)).then(data => {\n      setData(data);\n    });\n  }, []);\n  if (typeof data === \"string\") {\n    return /*#__PURE__*/_jsxDEV(Table, {\n      tableData: {\n        \"headerContents\": TableHeaders,\n        \"bodyContents\": data\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this);\n  }\n  let discounts = data.discounts.content;\n  console.log(discounts);\n  for (let i = 0; i < discounts.length; i++) {\n    delete discounts[i].discount;\n    delete discounts[i].links;\n  }\n  const HandleButtonClick = () => {\n    if (boxModel.display) {\n      setBoxModel(oldState => ({\n        ...oldState,\n        display: false\n      }));\n    } else {\n      setBoxModel(oldState => ({\n        ...oldState,\n        display: true\n      }));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(DiscountsBoxModelContext.Provider, {\n      value: boxModelMemo,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"products-table-container\",\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          tableData: {\n            \"headerContents\": TableHeaders,\n            \"bodyContents\": data.discounts.content\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 10\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"addProduct-tb-floating-button-container\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary\",\n          onClick: HandleButtonClick,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-plus-circle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 11\n          }, this), \" Add Discount\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 7\n      }, this), boxModel.display ? /*#__PURE__*/_jsxDEV(DiscountsBoxModel, {\n        resource: \"/discount\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 27\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n_s(Discount, \"OOH+FWOtmqwUQs8JdwR3Kk2QiYo=\", false, function () {\n  return [useCookies];\n});\n_c2 = Discount;\nvar _c, _c2;\n$RefreshReg$(_c, \"Resource\");\n$RefreshReg$(_c2, \"Discount\");","map":{"version":3,"names":["useEffect","useState","createContext","useMemo","memo","useCookies","FetchResource","Table","Model","DiscountsBoxModelContext","Resource","cookies","resource","options","method","headers","user","jwt","TableHeaders","Discount","data","setData","boxModel","setBoxModel","boxModelMemo","then","discounts","content","console","log","i","length","discount","links","HandleButtonClick","display","oldState"],"sources":["C:/Users/green/OneDrive/Desktop/online-selling-and-shopping/src/main/webapp/WEB-INF/view/shopparound-app/src/Discounts.js"],"sourcesContent":["import {useEffect, useState, createContext, useMemo, memo } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport FetchResource from \"./util/FetchResource\";\r\nimport Table from \"./component/CreateTable\";\r\nimport Model from \"./Model\";\r\n\r\nexport const DiscountsBoxModelContext = createContext();\r\n\r\nconst Resource = ((cookies)=>{\r\n  return({\r\n  resource: \"/discounts\",\r\n  options: {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"Authorization\": \"Bearer \" + cookies.user.jwt,\r\n    },\r\n  },\r\n  });\r\n});\r\n\r\n\r\nconst TableHeaders = [\r\n  \"ID#\",\r\n  \"Name\",\r\n  \"Description\",\r\n  \"Discount%\",\r\n  \"Products\",\r\n  \"Created-At\",\r\n  \"Modified_At\"\r\n];\r\n\r\n\r\nexport default function Discount() {\r\n  const [cookies] = useCookies();\r\n  const [data,setData] = useState(\"Loading....\");\r\n  const [boxModel, setBoxModel] = useState( {\r\n    \"display\": false,\r\n    \"submitForm\": false\r\n  });\r\n\r\n  const boxModelMemo = useMemo(\r\n    ()=> ({boxModel,setBoxModel}),\r\n    [boxModel]\r\n  );\r\n  \r\n  useEffect(()=>{\r\n    FetchResource(Resource(cookies)).then((data)=>{\r\n     \r\n      setData(data);\r\n\r\n    });\r\n  },[]);\r\n\r\n  \r\n  if((typeof data) === \"string\"){\r\n    return (<Table \r\n      tableData={{\r\n        \"headerContents\": TableHeaders,\r\n        \"bodyContents\": data\r\n        }}\r\n    />);\r\n  }\r\n\r\n  let discounts = data.discounts.content;\r\n  console.log(discounts);\r\n  for(let i = 0; i < discounts.length; i ++){\r\n\r\n    delete discounts[i].discount;\r\n    delete discounts[i].links;\r\n  }\r\n\r\n  const HandleButtonClick = () => {\r\n\r\n    if(boxModel.display){\r\n      setBoxModel(oldState => ({\r\n        ...oldState,\r\n        display: false\r\n      }));\r\n    }else{\r\n      setBoxModel(oldState => ({\r\n        ...oldState,\r\n        display: true,\r\n      }));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <DiscountsBoxModelContext.Provider value={boxModelMemo}>\r\n      <div className=\"products-table-container\">\r\n        {<Table \r\n          tableData={{\r\n            \"headerContents\": TableHeaders,\r\n            \"bodyContents\": data.discounts.content\r\n            }}\r\n        />}\r\n      </div>\r\n      <div id=\"addProduct-tb-floating-button-container\">\r\n        <button type=\"button\" className=\"btn btn-primary\" onClick={HandleButtonClick}>  \r\n          <i className=\"fas fa-plus-circle\"></i> Add Discount\r\n        </button>\r\n      </div>\r\n      {boxModel.display ? <DiscountsBoxModel resource={\"/discount\"}/> : null}\r\n    </DiscountsBoxModelContext.Provider>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}