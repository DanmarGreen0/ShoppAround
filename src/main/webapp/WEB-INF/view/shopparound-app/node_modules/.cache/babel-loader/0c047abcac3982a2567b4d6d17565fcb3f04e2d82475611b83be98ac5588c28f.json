{"ast":null,"code":"import _objectSpread from\"C:/Users/green/OneDrive/Desktop/online-selling-and-shopping/src/main/webapp/WEB-INF/view/shopparound-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/green/OneDrive/Desktop/online-selling-and-shopping/src/main/webapp/WEB-INF/view/shopparound-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState,createContext,useMemo,memo}from\"react\";import{useCookies}from\"react-cookie\";import Model from\"./Model\";import FetchResource from\"./util/FetchResource\";import CreateTable from\"./component/CreateTable\";// import \"./styles/Table.css\";\nimport TestPage from\"./TestPage\";import{jsx as _jsx}from\"react/jsx-runtime\";var resource=function resource(cookies){return{resource:\"/products\",options:{method:\"GET\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \"+cookies.user.jwt}}};};export var BoxModelContext=/*#__PURE__*/createContext();var TableHeaders=[\"ID\",\"Name\",\"Description\",\"Sku\",\"Category\",\"Price\",\"Created-At\",\"Modified_At\"];function Products(){var _useState=useState(\"Loading....\"),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useCookies=useCookies(),_useCookies2=_slicedToArray(_useCookies,1),cookies=_useCookies2[0];var _useState3=useState({\"display\":false,\"submitForm\":false}),_useState4=_slicedToArray(_useState3,2),boxModel=_useState4[0],setBoxModel=_useState4[1];var boxModelMemo=useMemo(function(){return{boxModel:boxModel,setBoxModel:setBoxModel};},[boxModel]);useEffect(function(){FetchResource(resource(cookies)).then(function(data){setData(data);});},[cookies]);console.log(data);if(typeof data===\"string\"){return/*#__PURE__*/_jsx(CreateTable,{tableData:{\"headerContents\":TableHeaders,\"bodyContents\":data}});}var products=data.products.content;for(var i=0;i<products.length;i++){delete products[i].discount;delete products[i].links;}var HandleButtonClick=function HandleButtonClick(){if(boxModel.display){setBoxModel(function(oldState){return _objectSpread(_objectSpread({},oldState),{},{display:false});});}else{setBoxModel(function(oldState){return _objectSpread(_objectSpread({},oldState),{},{display:true});});}};return/*#__PURE__*/_jsx(TestPage,{})// <BoxModelContext.Provider value={boxModelMemo}>\n//   <div className=\"products-table-container\">\n//     {<CreateTable \n//       tableData={{\n//         \"headerContents\": TableHeaders,\n//         \"bodyContents\": products\n//         }}\n//     />}\n//   </div>\n//   <div id=\"addProduct-tb-floating-button-container\">\n//     <button type=\"button\" className=\"btn btn-primary\" onClick={HandleButtonClick}>  \n//       <i className=\"fas fa-plus-circle\"></i> add Product\n//     </button>\n//   </div>\n//   {boxModel.display ? <Model content={[<h1>Content Here</h1>,<h1>Content Here</h1>]}/> : null}\n// </BoxModelContext.Provider>\n;}export default/*#__PURE__*/memo(Products);","map":{"version":3,"names":["React","useEffect","useState","createContext","useMemo","memo","useCookies","Model","FetchResource","CreateTable","TestPage","resource","cookies","options","method","headers","user","jwt","BoxModelContext","TableHeaders","Products","data","setData","boxModel","setBoxModel","boxModelMemo","then","console","log","products","content","i","length","discount","links","HandleButtonClick","display","oldState"],"sources":["C:/Users/green/OneDrive/Desktop/online-selling-and-shopping/src/main/webapp/WEB-INF/view/shopparound-app/src/Products.js"],"sourcesContent":["import React, { useEffect, useState, createContext, useMemo, memo } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport Model from \"./Model\";\r\nimport FetchResource from \"./util/FetchResource\";\r\nimport CreateTable from \"./component/CreateTable\";\r\n// import \"./styles/Table.css\";\r\nimport TestPage from \"./TestPage\";\r\n\r\nconst resource = ((cookies)=>{\r\n  return({\r\n  resource: \"/products\",\r\n  options: {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"Authorization\": \"Bearer \" + cookies.user.jwt,\r\n    },\r\n  },\r\n  });\r\n});\r\n\r\nexport const BoxModelContext = createContext();\r\n\r\nconst TableHeaders = [\r\n  \"ID\",\r\n  \"Name\",\r\n  \"Description\",\r\n  \"Sku\",\r\n  \"Category\",\r\n  \"Price\",\r\n  \"Created-At\",\r\n  \"Modified_At\"\r\n];\r\n\r\n\r\n function Products() {\r\n  const [data,setData] = useState(\"Loading....\");\r\n  const [cookies] = useCookies();\r\n  const [boxModel, setBoxModel] = useState( {\r\n    \"display\": false,\r\n    \"submitForm\": false\r\n  });\r\n\r\n  const boxModelMemo = useMemo(\r\n    ()=> ({boxModel,setBoxModel}),\r\n    [boxModel]\r\n  );\r\n\r\n  useEffect(()=>{\r\n    FetchResource(resource(cookies)).then((data)=>{\r\n     \r\n      setData(data);\r\n\r\n    });\r\n  },[cookies]);\r\n\r\n  console.log(data);\r\n\r\n  if((typeof data) === \"string\"){\r\n    return (<CreateTable \r\n      tableData={{\r\n        \"headerContents\": TableHeaders,\r\n        \"bodyContents\": data\r\n        }}\r\n    />);\r\n  }\r\n\r\n  let products = data.products.content;\r\n\r\n  for(let i = 0; i < products.length; i ++){\r\n    delete products[i].discount;\r\n    delete products[i].links;\r\n  }\r\n\r\n\r\n  const HandleButtonClick = () => {\r\n\r\n    if(boxModel.display){\r\n      setBoxModel(oldState => ({\r\n        ...oldState,\r\n        display: false\r\n      }));\r\n    }else{\r\n      setBoxModel(oldState => ({\r\n        ...oldState,\r\n        display: true,\r\n      }));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <TestPage/>\r\n    // <BoxModelContext.Provider value={boxModelMemo}>\r\n    //   <div className=\"products-table-container\">\r\n    //     {<CreateTable \r\n    //       tableData={{\r\n    //         \"headerContents\": TableHeaders,\r\n    //         \"bodyContents\": products\r\n    //         }}\r\n    //     />}\r\n    //   </div>\r\n    //   <div id=\"addProduct-tb-floating-button-container\">\r\n    //     <button type=\"button\" className=\"btn btn-primary\" onClick={HandleButtonClick}>  \r\n    //       <i className=\"fas fa-plus-circle\"></i> add Product\r\n    //     </button>\r\n    //   </div>\r\n    //   {boxModel.display ? <Model content={[<h1>Content Here</h1>,<h1>Content Here</h1>]}/> : null}\r\n    // </BoxModelContext.Provider>\r\n  );\r\n}\r\n\r\nexport default memo(Products);"],"mappings":"2XAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,CAAEC,aAAa,CAAEC,OAAO,CAAEC,IAAI,KAAQ,OAAO,CAChF,OAASC,UAAU,KAAQ,cAAc,CACzC,MAAOC,MAAK,KAAM,SAAS,CAC3B,MAAOC,cAAa,KAAM,sBAAsB,CAChD,MAAOC,YAAW,KAAM,yBAAyB,CACjD;AACA,MAAOC,SAAQ,KAAM,YAAY,CAAC,2CAElC,GAAMC,SAAQ,CAAI,QAAZA,SAAQ,CAAKC,OAAO,CAAG,CAC3B,MAAO,CACPD,QAAQ,CAAE,WAAW,CACrBE,OAAO,CAAE,CACPC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,eAAe,CAAE,SAAS,CAAGH,OAAO,CAACI,IAAI,CAACC,GAC5C,CACF,CACA,CAAC,CACH,CAAE,CAEF,MAAO,IAAMC,gBAAe,cAAGf,aAAa,EAAE,CAE9C,GAAMgB,aAAY,CAAG,CACnB,IAAI,CACJ,MAAM,CACN,aAAa,CACb,KAAK,CACL,UAAU,CACV,OAAO,CACP,YAAY,CACZ,aAAa,CACd,CAGA,QAASC,SAAQ,EAAG,CACnB,cAAuBlB,QAAQ,CAAC,aAAa,CAAC,wCAAvCmB,IAAI,eAACC,OAAO,eACnB,gBAAkBhB,UAAU,EAAE,4CAAvBM,OAAO,iBACd,eAAgCV,QAAQ,CAAE,CACxC,SAAS,CAAE,KAAK,CAChB,YAAY,CAAE,KAChB,CAAC,CAAC,yCAHKqB,QAAQ,eAAEC,WAAW,eAK5B,GAAMC,aAAY,CAAGrB,OAAO,CAC1B,iBAAM,CAACmB,QAAQ,CAARA,QAAQ,CAACC,WAAW,CAAXA,WAAW,CAAC,EAAC,CAC7B,CAACD,QAAQ,CAAC,CACX,CAEDtB,SAAS,CAAC,UAAI,CACZO,aAAa,CAACG,QAAQ,CAACC,OAAO,CAAC,CAAC,CAACc,IAAI,CAAC,SAACL,IAAI,CAAG,CAE5CC,OAAO,CAACD,IAAI,CAAC,CAEf,CAAC,CAAC,CACJ,CAAC,CAAC,CAACT,OAAO,CAAC,CAAC,CAEZe,OAAO,CAACC,GAAG,CAACP,IAAI,CAAC,CAEjB,GAAI,MAAOA,KAAI,GAAM,QAAQ,CAAC,CAC5B,mBAAQ,KAAC,WAAW,EAClB,SAAS,CAAE,CACT,gBAAgB,CAAEF,YAAY,CAC9B,cAAc,CAAEE,IAChB,CAAE,EACJ,CACJ,CAEA,GAAIQ,SAAQ,CAAGR,IAAI,CAACQ,QAAQ,CAACC,OAAO,CAEpC,IAAI,GAAIC,EAAC,CAAG,CAAC,CAAEA,CAAC,CAAGF,QAAQ,CAACG,MAAM,CAAED,CAAC,EAAG,CAAC,CACvC,MAAOF,SAAQ,CAACE,CAAC,CAAC,CAACE,QAAQ,CAC3B,MAAOJ,SAAQ,CAACE,CAAC,CAAC,CAACG,KAAK,CAC1B,CAGA,GAAMC,kBAAiB,CAAG,QAApBA,kBAAiB,EAAS,CAE9B,GAAGZ,QAAQ,CAACa,OAAO,CAAC,CAClBZ,WAAW,CAAC,SAAAa,QAAQ,wCACfA,QAAQ,MACXD,OAAO,CAAE,KAAK,IACd,CAAC,CACL,CAAC,IAAI,CACHZ,WAAW,CAAC,SAAAa,QAAQ,wCACfA,QAAQ,MACXD,OAAO,CAAE,IAAI,IACb,CAAC,CACL,CACF,CAAC,CAED,mBACE,KAAC,QAAQ,IACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA,CAEJ,CAEA,2BAAe/B,IAAI,CAACe,QAAQ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}